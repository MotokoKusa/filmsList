(function(){"use strict";var t={7403:function(t,i,e){var s=e(6369),a=function(){var t=this,i=t._self._c;return i("div",{attrs:{id:"app"}},[i("SHeader"),i("router-view")],1)},r=[],l=function(){var t=this;t._self._c;return t._m(0)},n=[function(){var t=this,i=t._self._c;return i("header",{staticClass:"header"},[i("p",{staticClass:"header__title"},[t._v("#movienow")])])}],o={name:"SHeader"},d=o,c=e(1001),m=(0,c.Z)(d,l,n,!1,null,null,null),u=m.exports,f={components:{SHeader:u}},p=f,h=(0,c.Z)(p,a,r,!1,null,null,null),_=h.exports,v=e(2631),C=function(){var t=this,i=t._self._c;return i("main",{staticClass:"main animate"},[i("div",{staticClass:"container"},[i("div",{staticClass:"main__box"},[i("div",{staticClass:"main__wrap"},[i("h2",{staticClass:"main__wrap-title txt--xm"},[t._v("Фильмы")]),i("div",{staticClass:"main__wrap__filters"},[i("FilmsCheckbox",{attrs:{"is-disabled":t.isFilterDate,title:t.isFilterNameLabel},model:{value:t.isFilterName,callback:function(i){t.isFilterName=i},expression:"isFilterName"}}),i("FilmsCheckbox",{attrs:{"is-disabled":t.isFilterName,title:t.isFilterDateLabel},model:{value:t.isFilterDate,callback:function(i){t.isFilterDate=i},expression:"isFilterDate"}})],1)]),t.filmsListLoading?i("LoaderPic"):t.filmsListLoadingFailed?i("div",[t._v(" Произошла ошибка, пожалуста перезагрузите страницу ")]):t._l(t.updateFilmsListData,(function(t){return i("FilmsCard",{key:t.id,attrs:{"film-id":t.id,title:t.title,title_alternative:t.title_alternative,"img-src":t.imgSrc,genres:t.genres,date:t.year,directors:t.directors,actors:t.actors,description:t.description,"film-item":t,duration:t.collapse.duration}})}))],2)])])},g=[],L=function(){var t=this,i=t._self._c;return i("div",{staticClass:"films-card"},[t.imgSrc?i("div",{staticClass:"films-card__pic"},[i("img",{attrs:{src:t.imgSrc,alt:t.title_alternative}})]):t._e(),i("div",{staticClass:"films-card__content"},[i("router-link",{staticClass:"films-card__content-title txt--xl",attrs:{to:{name:"film",params:{id:t.filmId,film:t.filmItem}}}},[t._v(" "+t._s(t.title)+" ")]),t.date||t.updateGenres?i("p",{staticClass:"films-card__content-subtitle txt--xs txt--brown"},[i("span",[t._v(t._s(t.date))]),t._v(" , "),i("span",[t._v(t._s(t.updateGenres))])]):t._e(),t.updateDirectors?i("p",{staticClass:"films-card__content-director txt--xs txt--brown"},[t._v(" Режисер: "),i("span",[t._v(t._s(t.updateDirectors))])]):t._e(),t.updateActors?i("p",{staticClass:"films-card__content-actors txt--xs txt--brown"},[t._v(" АКТЁРЫ: "),i("span",{staticClass:"txt--white txt--xss"},[t._v(t._s(t.updateActors))])]):t._e(),t.description?i("p",{staticClass:"films-card__content-description txt--m"},[t._v(" "+t._s(t.description)+" ")]):t._e(),t.updateDuration?i("div",{staticClass:"films-card__content-times txt--xs"},[i("p",[t._v(t._s(t.updateDuration))])]):t._e()],1)])},x=[],F={name:"FilmsItem",props:["imgSrc","imgAlt","title","date","genres","directors","actors","description","title_alternative","filmId","filmItem","duration"],computed:{updateGenres(){return this.genres?this.genres.join(", "):null},updateDirectors(){return this.directors?this.directors.join(", "):null},updateActors(){return this.actors?this.actors.join(", "):null},updateDuration(){return this.duration?this.duration.join():null}}},b=F,k=(0,c.Z)(b,L,x,!1,null,null,null),w=k.exports,y=function(){var t=this,i=t._self._c;return i("div",{staticClass:"films-checkbox"},[i("label",{staticClass:"films-checkbox-custom"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedCheckBox,expression:"updatedCheckBox"}],attrs:{disabled:t.isDisabled,type:"checkbox",name:t.title},domProps:{value:t.isChecked,checked:Array.isArray(t.updatedCheckBox)?t._i(t.updatedCheckBox,t.isChecked)>-1:t.updatedCheckBox},on:{change:function(i){var e=t.updatedCheckBox,s=i.target,a=!!s.checked;if(Array.isArray(e)){var r=t.isChecked,l=t._i(e,r);s.checked?l<0&&(t.updatedCheckBox=e.concat([r])):l>-1&&(t.updatedCheckBox=e.slice(0,l).concat(e.slice(l+1)))}else t.updatedCheckBox=a}}}),i("span",[t._v(t._s(t.title))])])])},P=[],D={name:"FilmsCheckbox",props:{title:{type:String},isChecked:{type:Boolean},isDisabled:{type:Boolean}},model:{prop:"isChecked",event:"change"},computed:{updatedCheckBox:{set(t){this.$emit("change",t)},get(){return this.isChecked}}}},Z=D,B=(0,c.Z)(Z,y,P,!1,null,null,null),O=B.exports,S=function(){var t=this,i=t._self._c;return i("div",{staticClass:"loader"},[i("svg",{staticClass:"loader__img-1",attrs:{width:"82",height:"82",viewBox:"0 0 82 82",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.33988 61.1487C6.46275 61.4855 6.10077 62.5338 6.62045 63.3165C16.8744 78.7617 37.0183 85.506 55.2823 78.4928C73.5464 71.4797 83.9994 52.9865 81.2809 34.6479C81.1431 33.7185 80.1726 33.1819 79.2954 33.5188V33.5188C78.618 33.7789 78.2245 34.4842 78.3285 35.2024C80.7772 52.1161 71.1289 69.1944 54.2069 75.6922C37.285 82.19 18.6859 75.9583 9.18514 61.7525C8.78173 61.1493 8.01731 60.8886 7.33988 61.1487V61.1487Z",fill:"#FA2828","fill-opacity":"0.98"}})]),i("svg",{staticClass:"loader__img-2",attrs:{width:"98",height:"97",viewBox:"0 0 98 97",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.4886 16.469C14.6226 15.8186 14.525 14.5528 15.3147 13.8116C24.0541 5.60917 35.8878 0.576683 48.9042 0.576683C75.7584 0.576683 97.5786 21.9971 97.5786 48.4824C97.5786 56.7339 95.4607 64.4937 91.7324 71.2674C91.2213 72.196 90.0068 72.429 89.1593 71.7925V71.7925C88.4275 71.243 88.231 70.2322 88.6697 69.429C92.0789 63.1885 94.0118 56.055 94.0118 48.4824C94.0118 24.0224 73.8443 4.14345 48.9042 4.14345C36.8634 4.14345 25.9351 8.77684 17.8516 16.3222C17.1991 16.9313 16.2024 17.005 15.4886 16.469V16.469Z",fill:"black"}})])])},N=[],j={name:"LoaderPic"},A=j,$=(0,c.Z)(A,S,N,!1,null,"391b44b2",null),I=$.exports,M=e(3822),V={name:"MainPage",components:{FilmsCard:w,FilmsCheckbox:O,LoaderPic:I},data(){return{isFilterName:!1,isFilterNameLabel:"Отсортировать по названию",isFilterDate:!1,isFilterDateLabel:"Отсортировать по году"}},computed:{...(0,M.Se)(["filmsList","filmsListLoadingFailed","filmsListLoading"]),updateFilmsListData(){return this.isFilterName?[...this.filmsList].sort(((t,i)=>t.title<i.title?-1:t.title>i.title?1:0)):this.isFilterDate?[...this.filmsList].sort(((t,i)=>t.year<i.year?-1:t.year>i.year?1:0)):this.filmsList}},methods:{...(0,M.nv)(["loadFilms"])},created(){this.loadFilms()}},G=V,H=(0,c.Z)(G,C,g,!1,null,null,null),T=H.exports,E=function(){var t=this,i=t._self._c;return i("main",{staticClass:"main"},[i("div",{staticClass:"container"},[i("div",{staticClass:"main__box"},[i("div",{staticClass:"main__wrap"},[i("router-link",{staticClass:"main__wrap-back",attrs:{to:{name:"main"}}},[i("span",[t._v("Назад к списку")])])],1),t.filmListLoading?i("LoaderPic"):t.filmCard?i("FilmsCard",{key:t.filmCard.id,attrs:{"film-id":t.filmCard.id,title:t.filmCard.title,title_alternative:t.filmCard.title_alternative,"img-src":t.filmCard.imgSrc,genres:t.filmCard.genres,date:t.filmCard.year,directors:t.filmCard.directors,actors:t.filmCard.actors,description:t.filmCard.description,"film-item":t.filmCard,duration:t.filmCard.collapse.duration}}):i("div",{staticClass:"txt--xm"},[t._v(" К сожалению, по вашему запросу ничего не найдено... ")])],1)])])},q=[],z=e(6265),J=e.n(z);const K="https://floating-sierra-20135.herokuapp.com";var Q={name:"FilmPage",components:{FilmsCard:w,LoaderPic:I},data(){return{filmCard:null,filmListLoading:!1,filmListLoadingFailed:!1}},methods:{loadFilm(t,i){this.filmListLoading=!0,i?(this.filmCard=i,this.filmListLoading=!1):J().get(K+"/api/movie/"+t).then((t=>{console.log(t),t.data.data&&(this.filmCard=t.data.data,this.filmCard.imgSrc=`http://www.kinopoisk.ru/images/film_big${this.filmCard.poster.substring(this.filmCard.poster.lastIndexOf("/"))}`)})).catch((()=>this.filmListLoadingFailed=!0)).then((()=>this.filmListLoading=!1))}},watch:{"$route.params.id"(t){this.filmCard=null,this.loadFilm(t,this.$route.params.film)}},created(){this.loadFilm(this.$route.params.id,this.$route.params.film)}},R=Q,U=(0,c.Z)(R,E,q,!1,null,null,null),W=U.exports,X=function(){var t=this,i=t._self._c;return i("main",[t._v("Not Found")])},Y=[],tt={name:"NotFoundPage"},it=tt,et=(0,c.Z)(it,X,Y,!1,null,null,null),st=et.exports;s.ZP.use(v.ZP);const at=[{name:"main",component:T,path:"/"},{name:"film",component:W,path:"/film/:id"},{name:"notFound",component:st,path:"*"}],rt=new v.ZP({routes:at});var lt=rt;s.ZP.use(M.ZP);var nt=new M.ZP.Store({state:{filmsList:[],filmsListLoading:!0,filmsListLoadingFailed:!1},getters:{filmsList(t){return t.filmsList},filmsListLoadingFailed(t){return t.filmsListLoadingFailed},filmsListLoading(t){return t.filmsListLoading}},mutations:{updateFilmsList(t,i){t.filmsList=i},updateFilmsListLoadingFailed(t,i){t.filmsListLoadingFailed=i},updateFilmsListLoading(t,i){t.filmsListLoading=i}},actions:{loadFilms(t){J().get(K+"/api/movies").then((i=>{t.commit("updateFilmsList",i.data.data.map((t=>({...t,imgSrc:`http://www.kinopoisk.ru/images/film_big${t.poster.substring(t.poster.lastIndexOf("/"))}`}))))})).catch((()=>t.commit("updateFilmsListLoadingFailed",!0))).then((()=>t.commit("updateFilmsListLoading",!1)))}}});s.ZP.config.productionTip=!1,new s.ZP({router:lt,store:nt,render:t=>t(_)}).$mount("#app")}},i={};function e(s){var a=i[s];if(void 0!==a)return a.exports;var r=i[s]={exports:{}};return t[s](r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(i,s,a,r){if(!s){var l=1/0;for(c=0;c<t.length;c++){s=t[c][0],a=t[c][1],r=t[c][2];for(var n=!0,o=0;o<s.length;o++)(!1&r||l>=r)&&Object.keys(e.O).every((function(t){return e.O[t](s[o])}))?s.splice(o--,1):(n=!1,r<l&&(l=r));if(n){t.splice(c--,1);var d=a();void 0!==d&&(i=d)}}return i}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[s,a,r]}}(),function(){e.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(i,{a:i}),i}}(),function(){e.d=function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}}(),function(){var t={143:0};e.O.j=function(i){return 0===t[i]};var i=function(i,s){var a,r,l=s[0],n=s[1],o=s[2],d=0;if(l.some((function(i){return 0!==t[i]}))){for(a in n)e.o(n,a)&&(e.m[a]=n[a]);if(o)var c=o(e)}for(i&&i(s);d<l.length;d++)r=l[d],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(c)},s=self["webpackChunkvue_films_list"]=self["webpackChunkvue_films_list"]||[];s.forEach(i.bind(null,0)),s.push=i.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(7403)}));s=e.O(s)})();
//# sourceMappingURL=app.9fc4787d.js.map